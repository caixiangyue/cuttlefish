{minimum_otp_vsn, "20.0"}.

{project_plugins, [rebar3_hex]}.

{erl_opts, [{parse_transform, lager_transform}, debug_info, warn_untyped_record]}.

{escript_emu_args, "%%! -escript main cuttlefish_escript +S 1 +A 0\n"}.
{escript_incl_apps, [goldrush, getopt, lager]}.

{escript_main_app, cuttlefish}.

{provider_hooks, [{post, [{compile, {default, escriptize}}]}]}.


{xref_checks, [
    undefined_function_calls,
    undefined_functions,
    locals_not_used,
    deprecated_function_calls,
    deprecated_functions
]}.

{eunit_opts, [verbose]}.
{cover_enabled, true}.
{cover_print_enabled, true}.
{cover_export_enabled, true}.

{deps, [
    {getopt, ".*", {git, "https://github.com/basho/getopt.git", {tag, "v0.8.2"}}},
    {lager, ".*", {git, "https://github.com/basho/lager.git", {tag, "3.2.3"}}},
    {neotoma, ".*", {git, "https://github.com/basho/neotoma.git", {tag, "1.7.3"}}}
  ]}.

  {profiles, [
    {gha, [{erl_opts, [{d, 'GITHUBEXCLUDE'}]}]},
    {dev, [{deps, [neotoma]}, {plugins, [rebar3_neotoma_plugin]}]},
    {test, [{deps, [bbmustache]}]}
]}.